(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(t,e,n){"use strict";n.r(e);var r=n(6),o=(n(35),n(28),n(41),n(49),{data:function(){var t=this;this.$createElement;return{loadingInstance:null,isLoading:!1,columns:[{field:"",key:"a",title:"No.",width:50,align:"center",renderBodyCell:function(e,n){e.row,e.column;var r=e.rowIndex;return(t.pageIndex-1)*t.pageSize+1+r}},{field:"name",key:"b",title:"Role",align:"left",sortBy:"",renderBodyCell:function(t,e){var n=t.row,r=t.column,o=(t.rowIndex,n[r.field]),l=n.description||"";return e("div",[e("div",[e("strong",[o])]),e("div",{class:"text-muted"},[l])])}},{field:"slug",key:"c",title:"slug",align:"left",sortBy:""},{field:"created_at",key:"d",title:"Created At",align:"center",renderBodyCell:function(e,n){var r=e.row,o=e.column;e.rowIndex;return t.$moment(r[o.field]).format("lll")},sortBy:"desc"},{field:"status",key:"e",title:"Status",align:"center",renderBodyCell:function(t,e){var n=t.row,r=t.column;t.rowIndex;return n[r.field]?e("i",{class:"text-green"},["Active"]):e("i",{class:"text-red"},["Inactive"])},sortBy:""},{field:"",key:"f",title:"Features",align:"center",renderBodyCell:function(e,n){var r=e.row;e.column,e.rowIndex;return n("button",{attrs:{type:"button"},class:"btn btn-app",on:{click:function(){return t.$router.push("roles/".concat(r.id,"/features"))}}},[n("i",{class:"fas fa-chalkboard-teacher"}),"Features"])}},{field:"",key:"g",title:"Action",align:"center",renderBodyCell:function(e,n){var r=e.row;e.column,e.rowIndex;return n("div",{class:"btn-group btn-block"},[n("button",{attrs:{type:"button"},class:"btn btn-warning btn-sm",on:{click:function(){return t.$router.push("roles/".concat(r.id,"/edit"))}}},[n("i",{class:"fas fa-edit"})]),n("button",{attrs:{type:"button"},class:"btn btn-danger btn-sm",on:{click:function(){return t.deleteRow(r.id)}}},[n("i",{class:"fas fa-trash"})])])}}],pageIndex:1,pageSize:10,totalCount:0,tableData:[],searchFilter:"",sortParams:{},sortOption:{sortAlways:!0,sortChange:function(e){Object.keys(e).length&&(t.sortParams=e,t.$nextTick((function(){t.getDataFromApi()})))}}}},methods:{pageNumberChange:function(t){this.pageIndex=t,this.getDataFromApi()},pageSizeChange:function(t){this.pageIndex=1,this.pageSize=t,this.getDataFromApi()},getDataFromApi:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,t.$axios.get("admin/roles",{params:{page:t.pageIndex,per_page:t.pageSize,search:t.searchFilter,sort:t.sortParams}});case 4:n=e.sent,data=n.data,t.totalCount=data.total,t.tableData=data.data,t.isLoading=!1,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),t.$toast.global.server_error(),t.isLoading=!1;case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))()},deleteRow:function(t){var e=this;this.$swal.fire({title:"Sure to delete role?",showCancelButton:!0,confirmButtonText:"Ok, Delete!"}).then(function(){var n=Object(r.a)(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r||r.dismiss){n.next=14;break}return e.$nuxt.$loading.start(),n.prev=2,n.next=5,e.$axios.delete("admin/roles/".concat(t));case 5:e.$swal.fire("Deleted successfully!","","success"),e.getDataFromApi(),e.$nuxt.$loading.finish(),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(2),e.$swal.fire("Delete failed!","","danger"),e.$nuxt.$loading.finish();case 14:r&&r.dismiss&&e.$swal.fire("Role are not deleted","","info");case 15:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(t){return n.apply(this,arguments)}}())}},created:function(){this.getDataFromApi()},mounted:function(){}}),l=(n(356),n(8)),component=Object(l.a)(o,(function(){var t=this,e=this,n=e.$createElement,r=e._self._c||n;return r("div",{staticClass:"content-fluid"},[r("portal",{attrs:{to:"header-title"}},[r("span",[e._v("Role")]),e._v(" "),r("nuxt-link",{staticClass:"btn btn-primary",staticStyle:{"margin-left":"1%"},attrs:{tag:"a",to:"/roles/create"}},[r("span",[r("i",{staticClass:"fas fa-users-cog"}),e._v(" Add")])])],1),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[r("h3",{staticClass:"card-title"},[e._v("List")]),e._v(" "),r("div",{staticClass:"card-tools"},[r("div",{staticClass:"input-group input-group-sm",staticStyle:{"max-width":"200px"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchFilter,expression:"searchFilter"}],staticClass:"form-control float-right",attrs:{type:"text",placeholder:"Search"},domProps:{value:e.searchFilter},on:{keyup:function(){t._.delay((function(){return t.getDataFromApi()}),1e3)},input:function(t){t.target.composing||(e.searchFilter=t.target.value)}}}),e._v(" "),r("div",{staticClass:"input-group-append"},[r("button",{staticClass:"btn btn-default",attrs:{type:"submit"},on:{click:function(){t.getDataFromApi()}}},[r("i",{staticClass:"fas fa-search"})])])])])]),e._v(" "),r("div",{staticClass:"card-body"},[r("vue-element-loading",{attrs:{active:e.isLoading,"is-full-screen":!1}}),e._v(" "),r("ve-table",{attrs:{columns:e.columns,"table-data":e.tableData,id:"table-container","sort-option":e.sortOption}}),e._v(" "),r("div",{staticClass:"table-pagination"},[r("ve-pagination",{attrs:{total:e.totalCount,"page-index":e.pageIndex,"page-size":e.pageSize,layout:["total","prev","pager","next"]},on:{"on-page-number-change":e.pageNumberChange,"on-page-size-change":e.pageSizeChange}})],1)],1)])])])],1)}),[],!1,null,"7ad811d5",null);e.default=component.exports},350:function(t,e,n){var content=n(357);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(24).default)("3b6dd2ec",content,!0,{sourceMap:!1})},356:function(t,e,n){"use strict";n(350)},357:function(t,e,n){var r=n(23)(!1);r.push([t.i,".table-pagination[data-v-7ad811d5]{margin-top:20px;text-align:right}",""]),t.exports=r}}]);